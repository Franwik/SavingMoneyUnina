\chapter{Progettazione Logica}

\section{Schema Logico}

\subsection{Traduzione delle classi}

\begin{longtable}{p{0.9\linewidth}}
    
    \hline \\
    \rowcolor{black!10}
    \textbf{User} (email, \uline{username}, password, address, name, surname, CF, dateOfBirth) \\ \\ \hline

    \\ \rowcolor{black!10}
    \textbf{Familiar} (name, surname, \uline{CF}, dateOfBirth, \uuline{familiarUsername}) \\
    \textit{Chiavi esterne}: familiarUsername $ \rightarrow $ User.username \\ \\ \hline

    \\ \rowcolor{black!10}
    \textbf{BankAccount} (balance, \uline{accountNumber}, bank, \uuline{ownerCF}, \uuline{ownerUsername}) \\
    \textit{Chiavi esterne}: ownerCF $ \rightarrow $ Familiar.CF \\ 
    \hspace{2.79cm} ownerUsername $ \rightarrow $ User.username \\ \\ \hline

    \\ \rowcolor{black!10}
    \textbf{Card} (\uline{IBAN}, CVV, expireDate, cardCategory, \uuline{BA\_Number}, \uuline{ownerCF}, \uuline{ownerUsername}) \\
    \textit{Chiavi esterne}: BA\_Number $ \rightarrow $ BankAccount.accountNumber \\
    \hspace{2.79cm} ownerCF $ \rightarrow $ Familiar.CF \\
    \hspace{2.79cm} ownerUsername $ \rightarrow $ User.username \\ \\ \hline

    \\ \rowcolor{black!10}
    \textbf{Wallet} (\uline{ID\_Wallet}, name, WalletCategory, totalAmount) \\ \\ \hline

    \\ \rowcolor{black!10}
    \textbf{Transaction} (\uline{ID\_Transaction}, amount, date, category, \uuline{CardIBAN}) \\
    \textit{Chiavi esterne}: cardIBAN $ \rightarrow $ Card.IBAN \\ \\ \hline

    \\ \rowcolor{black!10}
    \textbf{TransactionInWallet} (\uuline{ID\_Transaction}, \uuline{ID\_Wallet}) \\
    \textit{Chiavi esterne}: ID\_Transaction $ \rightarrow $ Transaction.ID\_Transaction \\
    \hspace{2.79cm} ID\_Wallet $ \rightarrow $ Wallet.ID\_Wallet \\ \\ \hline

\end{longtable}

\newpage
\subsection{Traduzione delle associazioni}

\begin{longtable}{m{6.7cm}|m{7cm}}

    \rowcolor{black!10}
    \textbf{Associazione} & \textbf{Implementazione} \\ \hline
    \endhead

    \textbf{To Be Related} &
    Relazione 0..* a 1, abbiamo migrato la chiave primaria di User (username) in Familiar (familiarUsername) \\ \hline



\end{longtable}

\subsection{Schema logico definitivo}